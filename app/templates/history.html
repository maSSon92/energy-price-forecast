{% extends "base.html" %}

{% block title %}Historia prognoz{% endblock %}

{% block content %}
<h1>ðŸ•“ Historia prognoz</h1>
<p>Tabela poniÅ¼ej zawiera dane z bazy: prognozy, ceny rzeczywiste i obliczone bÅ‚Ä™dy.</p>

<form method="get" action="{{ url_for('main.history') }}" style="margin-bottom: 1em;">
    <label for="date">Filtruj po dacie:</label>
    <input type="date" name="date" id="date" value="{{ selected_date }}">
    <button type="submit">Filtruj</button>
    <a href="{{ url_for('main.history') }}">WyczyÅ›Ä‡</a>
</form>

<table>
    <thead>
        <tr>
            <th>Data</th>
            <th>Godzina</th>
            <th>Prognoza</th>
            <th>Rzeczywista</th>
            <th>BÅ‚Ä…d</th>
            <th></th>
        </tr>
    </thead>
    <tbody>
    {% for row in rows %}
        <tr>
            <td>{{ row[1] }}</td>
            <td>{{ row[2] }}</td>
            <td>{{ row[3] }}</td>
            <td>{{ row[4] if row[4] is not none else '-' }}</td>
            <td>{{ row[5]|round(2) if row[5] is not none else '-' }}</td>
            <td><a href="{{ url_for('main.history_detail', data=row[1]) }}">SzczegÃ³Å‚y</a></td>
        </tr>
    {% endfor %}
    </tbody>
</table>
{% endblock %}
